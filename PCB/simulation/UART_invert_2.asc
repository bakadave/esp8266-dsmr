Version 4
SHEET 1 880 680
WIRE -544 -224 -544 -256
WIRE 464 -144 432 -144
WIRE -544 -128 -544 -144
WIRE 432 -112 432 -144
WIRE -528 -48 -544 -48
WIRE -544 -16 -544 -48
WIRE 288 0 288 -32
WIRE -32 16 -32 0
WIRE 432 16 432 -32
WIRE 608 16 432 16
WIRE 672 16 608 16
WIRE 432 32 432 16
WIRE 608 32 608 16
WIRE -544 80 -544 64
WIRE -32 112 -32 96
WIRE -16 112 -32 112
WIRE 288 112 288 80
WIRE 288 112 176 112
WIRE 384 112 288 112
WIRE 608 112 608 96
WIRE 288 144 288 112
WIRE 432 176 432 128
WIRE -16 208 -32 208
WIRE 208 208 176 208
WIRE -544 224 -544 192
WIRE -32 240 -32 208
WIRE 208 240 208 208
WIRE 288 240 288 208
WIRE -544 320 -544 304
FLAG -32 240 0
FLAG 208 240 0
FLAG -32 0 TX
FLAG 288 240 0
FLAG 288 -32 5V
FLAG 608 112 0
FLAG 672 16 RX
FLAG 464 -144 RX_EN
FLAG 432 176 0
FLAG -544 320 0
FLAG -544 192 5V
FLAG -544 80 0
FLAG -528 -48 RX_EN
FLAG -544 -128 0
FLAG -544 -256 TX
SYMBOL Optos\\PC817D 80 160 R0
SYMATTR InstName U1
SYMBOL res -48 0 R0
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL res 272 -16 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap 272 144 R0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL nmos 384 32 R0
SYMATTR InstName M1
SYMATTR Value BSS123
SYMBOL res 416 -128 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL cap 592 32 R0
SYMATTR InstName C2
SYMATTR Value 10p
SYMBOL voltage -544 -240 R0
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 500u 1u 1u 500u 1500u 10)
SYMBOL voltage -544 -32 R0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 1100u 10u 10u 4m 5m 1)
SYMBOL voltage -544 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.5
SYMATTR InstName V3
SYMATTR Value 5
TEXT -80 -64 Left 2 ;meter circuitry
TEXT -576 352 Left 2 !.tran 5m
RECTANGLE Normal 240 272 -80 -48 2
